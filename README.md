# IsTS - ระบบสนับสนุนและติดตามปัญหาของฝ่าย IT

## ภาพรวม

IsTS (Issue Support and Tracking System) เป็นเว็บแอปพลิเคชันที่ออกแบบมาเพื่อช่วยให้กระบวนการรายงาน การติดตาม และการแก้ไขปัญหาด้านไอทีภายในองค์กรมีประสิทธิภาพมากขึ้น แพลตฟอร์มนี้ช่วยให้พนักงานสามารถส่งปัญหาทางเทคนิค ผู้ดูแลระบบสามารถจัดการและมอบหมายปัญหาเหล่านี้ และอำนวยความสะดวกในการสื่อสารระหว่างผู้ใช้และเจ้าหน้าที่ไอทีซัพพอร์ทผ่านระบบแชทที่รวมอยู่ในแพลตฟอร์ม

## คุณสมบัติหลัก

### สำหรับผู้ใช้งานทั่วไป:
- ส่งคำร้องปัญหาทางเทคนิคพร้อมคำอธิบายรายละเอียดและไฟล์แนบ
- ติดตามสถานะของคำร้องที่ส่งแบบเรียลไทม์
- สื่อสารโดยตรงกับเจ้าหน้าที่ไอทีซัพพอร์ทผ่านระบบแชทแบบบูรณาการ
- รับการแจ้งเตือนเมื่อมีการเปลี่ยนแปลงสถานะ
- ให้คะแนนคุณภาพการสนับสนุนหลังจากที่ปัญหาได้รับการแก้ไข
- การรวมกับ LINE สำหรับการรับการอัปเดตสถานะ

### สำหรับผู้ดูแลระบบ:
- แดชบอร์ดที่แสดงภาพรวมของปัญหาที่รอดำเนินการทั้งหมด
- มอบหมายปัญหาให้กับเจ้าหน้าที่ไอทีเฉพาะ
- จัดการและอัปเดตสถานะปัญหา (รอดำเนินการ, อนุมัติแล้ว, ถูกปฏิเสธ, เสร็จสิ้น)
- ดูรายงานประวัติและการวิเคราะห์
- สื่อสารกับผู้ใช้ผ่านระบบแชทแบบบูรณาการ

### สำหรับผู้ดูแลระบบระดับสูง:
- คุณสมบัติทั้งหมดของผู้ดูแลระบบ
- ความสามารถในการจัดการผู้ใช้
- การจัดการและการกำหนดบทบาท
- การรายงานและการวิเคราะห์ทั้งระบบ

## เทคโนโลยีที่ใช้

### ฝั่งหน้าบ้าน (Frontend):
- React 19
- Ant Design UI framework
- Tailwind CSS
- React Router สำหรับการนำทาง
- Socket.io Client สำหรับการสื่อสารแบบเรียลไทม์
- Axios สำหรับการเรียกใช้ API
- Dayjs สำหรับการจัดการวันที่
- การจัดการไฟล์ (การส่งออก Excel, การอัปโหลดไฟล์)

### ฝั่งหลังบ้าน (Backend):
- Node.js กับ Express
- MongoDB กับ Mongoose สำหรับการจัดการข้อมูล
- JWT สำหรับการพิสูจน์ตัวตน
- Socket.io สำหรับการสื่อสารแบบเรียลไทม์
- Multer สำหรับการอัปโหลดไฟล์
- Nodemailer สำหรับการแจ้งเตือนทางอีเมล
- การรวมกับ LINE Messaging API
- Cron jobs สำหรับงานบำรุงรักษา

## สถาปัตยกรรมระบบ

แอปพลิเคชันนี้ใช้สถาปัตยกรรมแบบไคลเอนต์-เซิร์ฟเวอร์:

1. **Frontend**: SPA ที่ใช้ React ที่ให้อินเทอร์เฟซที่แตกต่างกันตามบทบาทของผู้ใช้
2. **Backend API**: RESTful API endpoints สำหรับการดำเนินการ CRUD
3. **การสื่อสารแบบเรียลไทม์**: Socket.io สำหรับการส่งข้อความและการแจ้งเตือนแบบทันที
4. **ฐานข้อมูล**: MongoDB สำหรับจัดเก็บข้อมูลผู้ใช้ รายงาน แชท และการแจ้งเตือน
5. **บริการภายนอก**: การรวมกับ LINE สำหรับการแจ้งเตือน

## การเริ่มต้นใช้งาน

### ความต้องการเบื้องต้น
- Node.js (v16+)
- MongoDB (ติดตั้งในเครื่องหรือใช้ Atlas)
- บัญชี LINE Developer (สำหรับการแจ้งเตือน)

### การตั้งค่า Backend
1. นำทางไปยังไดเรกทอรี Back-end:
   ```
   cd IsTS/Back-end
   ```

2. ติดตั้ง dependencies:
   ```
   npm install
   ```

3. สร้างไฟล์ `.env` ด้วยตัวแปรดังต่อไปนี้:

   ```
    MONGO_URI=your_mongodb_connection_string

    # JWT Configuration
    JWT_SECRET=[SECRET_KEY]
    JWT_EXPIRES_IN=24H
    JWT_REFRESH_SECRET=[REFRESH_SECRET_KEY]
    JWT_REFRESH_EXPIRES_IN=30d

    EMAIL_USER=[EMAIL]# เปลี่ยนเป็น Gmail จริงของคุณ
    EMAIL_PASS=[APP_PASSWORD]  # ใช้ App Password ที่ Google สร้างให้

    CHANNEL_SECRET=[LINE_CHANNEL_SECRET]
    CHANNEL_ACCESS_TOKEN=[LINE_CHANNEL_ACCESS_TOKEN]

    NODE_ENV=development
    API_BASE_URL=http://localhost:4000
   ```

4. เริ่มเซิร์ฟเวอร์ backend:
   ```
   npm run dev
   ```

### การตั้งค่า Frontend
1. นำทางไปยังไดเรกทอรี Front-end:
   ```
   cd IsTS/Back-end
   ```

2. ติดตั้ง dependencies:
   ```
   npm install
   ```

3. ตรวจสอบให้แน่ใจว่า `API_BASE_URL` ใน `src/utils/baseApi.js` ชี้ไปที่ backend ของคุณ:
   ```javascript
   export const API_BASE_URL = "http://localhost:4000/api";
   ```

4. เริ่มเซิร์ฟเวอร์พัฒนา frontend:
   ```
   npm run dev
   ```

5. เข้าถึงแอปพลิเคชันที่ `http://localhost:5173`

## บทบาทผู้ใช้

1. **User**: พนักงานทั่วไปที่สามารถส่งและติดตามปัญหา
2. **Admin**: เจ้าหน้าที่ไอทีซัพพอร์ทที่สามารถจัดการปัญหาที่ได้รับมอบหมาย
3. **SuperAdmin**: ผู้ดูแลระบบที่มีสิทธิ์เข้าถึงคุณสมบัติทั้งหมด

## โครงสร้างไดเรกทอรี

```
IsTS/
├── Back-end/               # แอปพลิเคชัน Node.js ฝั่งหลังบ้าน
│   ├── auth/               # มิดเดิลแวร์การพิสูจน์ตัวตน
│   ├── middleware/         # มิดเดิลแวร์แอปพลิเคชัน
│   ├── model/              # สคีมา MongoDB
│   ├── routes/             # API endpoints
│   ├── socket/             # การใช้งาน Socket.io
│   └── utils/              # ฟังก์ชันยูทิลิตี้
│
└── Front-end/              # แอปพลิเคชัน React ฝั่งหน้าบ้าน
    ├── public/             # สินทรัพย์สาธารณะ
    ├── src/
    │   ├── assets/         # รูปภาพและสินทรัพย์คงที่
    │   ├── components/     # คอมโพเนนต์ React ที่ใช้ซ้ำได้
    │   ├── context/        # ตัวให้บริการบริบท React
    │   ├── layout/         # คอมโพเนนต์เค้าโครงหน้า
    │   ├── pages/          # คอมโพเนนต์หน้า
    │   ├── users-components/# คอมโพเนนต์เฉพาะผู้ใช้
    │   └── utils/          # ฟังก์ชันยูทิลิตี้
```

## พัฒนาโดย
พศวัต กรุดประเสริฐ
เมษา เวียนวงศ์
